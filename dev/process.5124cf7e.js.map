{"version":3,"file":"process.5124cf7e.js","sources":["../../src/js/modules/Helper.js","../../src/js/modules/Logger.js","../../src/js/modules/type/city.js","../../src/js/modules/type/date.js","../../src/js/modules/type/time.js","../../node_modules/dayjs/dayjs.min.js","../../src/js/modules/UrlProcessor.js","../../node_modules/js-yaml/dist/js-yaml.mjs","../../src/js/modules/NamespaceFetcher.js","../../src/js/modules/QueryParser.js","../../src/js/modules/Env.js","../../src/js/modules/ShortcutFinder.js","../../src/js/process.js","../../src/js/modules/CallHandler.js"],"sourcesContent":["/** @module Helper */\n\nimport pkg from '../../../package.json';\n\n/** Helper methods. */\n\nexport default class Helper {\n  /**\n   * Split a string n times, keep all additional matches in the last part as one string.\n   *\n   * @param {string} str        - The string to split.\n   * @param {string} delimiter  - The string or regexp to split at.\n   * @param {int} n             - Max. number of resulting parts.\n   *\n   * @return {array} parts      - The splitted parts.\n   */\n  static splitKeepRemainder(string, delimiter, n) {\n    if (!string) {\n      return [];\n    }\n    const parts = string.split(delimiter);\n    return parts.slice(0, n - 1).concat([parts.slice(n - 1).join(delimiter)]);\n  }\n\n  /**\n   * Escape all regular expression commands in a string.\n   *\n   * @param {string} str    - The string to escape.\n   *\n   * @return {string} str   - The escaped string.\n   */\n  static escapeRegExp(str) {\n    return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  /**\n   * Fetch the content of a file behind an URL.\n   *\n   * @param {string} url    - The URL of the file to fetch.\n   *\n   * @return {string} text  - The content.\n   */\n  static async fetchAsync(url, env) {\n    const response = await fetch(url, {\n      cache: env.reload ? 'reload' : 'force-cache',\n    });\n    if (response.status != 200) {\n      env.logger.warning(\n        `Error fetching via ${env.reload ? 'reload' : 'cache'} ${url}: ${\n          response.status\n        }`,\n      );\n      return null;\n    }\n    env.logger.success(\n      `Success fetching via ${env.reload ? 'reload' : 'cache'} ${url}`,\n    );\n    const text = await response.text();\n    return text;\n  }\n\n  /**\n   * From 'http://example.com/foo#bar=baz' get 'bar=baz'.\n   *\n   * @return {string} hash - The hash string.\n   */\n  static getUrlHash() {\n    const hash = window.location.hash.substr(1);\n    return hash;\n  }\n\n  /**\n   * Get parameters from the URL query string.\n   *\n   * @return {object} params - List of found parameters.\n   */\n  static getUrlParams() {\n    const urlParamStr = this.getUrlHash();\n    const urlParams = new URLSearchParams(urlParamStr);\n    const params = {};\n    urlParams.forEach((value, key) => {\n      params[key] = value;\n    });\n    return params;\n  }\n\n  /**\n   * Build URL param string from param object.\n   *\n   * @param {object} params       - List of parameters.\n   *\n   * @return {string} urlParamStr - Parameter as URL string.\n   */\n  static getUrlParamStr(params) {\n    const urlParams = new URLSearchParams();\n    for (const key in params) {\n      urlParams.set(key, params[key]);\n    }\n    urlParams.sort();\n    return urlParams;\n  }\n\n  static logVersion() {\n    console.log(\n      `Trovu running version`,\n      pkg.gitCommitHash.slice(0, 7),\n      pkg.gitDate,\n    );\n  }\n}\n","/** @module Env */\n\n/** Set and remember the environment. */\n\nexport default class Logger {\n  /**\n   * Set helper variables.\n   */\n  constructor(logElementSelector) {\n    this.logs = [];\n    if (!(typeof document === 'undefined')) {\n      this.logElement = document.querySelector(logElementSelector);\n    }\n  }\n\n  log(level, message) {\n    this.logs.push({\n      level: level,\n      message: message,\n    });\n    if (this.logElement) {\n      this.logElement.textContent += `${message}\\n`;\n    }\n  }\n  info(message) {\n    this.log('info', message);\n  }\n  warning(message) {\n    this.log('warning', message);\n  }\n  success(message) {\n    this.log('success', message);\n  }\n  error(message) {\n    this.log('error', message);\n    this.showLog();\n    console.table(this.logs);\n    throw new Error(message);\n  }\n  showLog() {\n    if (this.logElement) {\n      this.logElement.removeAttribute('hidden');\n    }\n  }\n}\n","export default class CityType {\n  static async parse(str, env) {\n    let country = env.country;\n    let matches;\n    let abbreviation = str;\n    if ((matches = str.match(/^(\\w\\w+)(\\.)(.+)$/))) {\n      [, country, , abbreviation] = matches;\n    }\n    const cities = env.data.types.city[country];\n    if (abbreviation in cities) {\n      const city = cities[abbreviation];\n      return city;\n    }\n    return false;\n  }\n}\n","export default class DateType {\n  static async parse(str, locale) {\n    const now = new Date();\n    let date, matches;\n\n    // Match '2', '2.', '22', '22.'.\n    if (str.match(/^(\\d{1,2})(\\.)?$/)) {\n      date = new Date();\n      date.setDate(str);\n      // If date in past: set it to next month.\n      if (date < now) {\n        date.setMonth(date.getMonth() + 1);\n      }\n    }\n    // Match '22.11' and '22.11.'\n    else if ((matches = str.match(/^(\\d{1,2})\\.(\\d{1,2})(\\.)?$/))) {\n      const [, day, month] = matches;\n      date = new Date();\n      date.setMonth(month - 1, day);\n      if (date < now) {\n        date.setFullYear(date.getFullYear() + 1);\n      }\n    }\n    // Match '22.11.13'\n    else if ((matches = str.match(/^(\\d{1,2})\\.(\\d{1,2})\\.(\\d{2})?$/))) {\n      const [, day, month, year] = matches;\n      date = new Date(`${month}, ${day} ${year}`);\n    }\n    // Match '22.11.2013'\n    else if ((matches = str.match(/^(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})?$/))) {\n      const [, day, month, year] = matches;\n      date = new Date(`${month}, ${day} ${year}`);\n    }\n\n    // Match '11/22'.\n    else if ((matches = str.match(/^(\\d{1,2})\\/(\\d{1,2})$/))) {\n      const [, month, day] = matches;\n      date = new Date();\n      date.setMonth(month - 1, day);\n      if (date < now) {\n        date.setFullYear(date.getFullYear() + 1);\n      }\n    }\n    // Match '11/22/13'\n    else if ((matches = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2})?$/))) {\n      const [, month, day, year] = matches;\n      date = new Date(`${month}, ${day} ${year}`);\n    }\n    // Match '11/22/2013'\n    else if ((matches = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})?$/))) {\n      const [, month, day, year] = matches;\n      date = new Date(`${month}, ${day} ${year}`);\n    }\n    // Match '+1' or '-2'\n    else if ((matches = str.match(/^(-|\\+)(\\d+)$/))) {\n      const [, operator, offset] = matches;\n      switch (operator) {\n        case '+':\n          date = new Date();\n          date.setDate(date.getDate() + parseInt(offset));\n          break;\n        case '-':\n          date = new Date();\n          date.setDate(date.getDate() - parseInt(offset));\n          break;\n      }\n    }\n    // Match 'Su', 'Mo', ...\n    else if ((matches = str.match(/^([A-Za-z\\u00E0-\\u00FC]+)$/))) {\n      let maps = [];\n      switch (locale.substr(0, 2)) {\n        case 'cs':\n          maps.push('ne po út st čt pá so');\n          maps.push('ne po ut st ct pa so');\n          break;\n        case 'de':\n          maps.push('so mo di mi do fr sa');\n          break;\n        case 'en':\n          maps.push('u m t w r f s');\n          maps.push('su mo tu we th fr sa');\n          maps.push('sun mon tue wed thu fri sat');\n          break;\n        case 'es':\n          maps.push('do lu ma mi ju vi sá');\n          maps.push('do lu ma mi ju vi sa');\n          break;\n        case 'pl':\n          maps.push('nd pn wt śr cz pt so');\n          maps.push('nd pn wt sr cz pt so');\n          break;\n        case 'sk':\n          maps.push('ne po ut st št pi so');\n          break;\n      }\n      for (const map of maps) {\n        const mapArray = map.split(' ');\n        const desired_day_of_week_index = mapArray.indexOf(str.toLowerCase());\n        if (desired_day_of_week_index > -1) {\n          date = new Date();\n          date.setDate(\n            date.getDate() + desired_day_of_week_index - date.getDay(),\n          );\n          // If calculated day is in the past or today:\n          // Set next week.\n          if (date <= now) {\n            date.setDate(date.getDate() + 7);\n          }\n          break;\n        }\n      }\n    }\n\n    return date;\n  }\n}\n","export default class TimeType {\n  static async parse(str) {\n    let time, matches;\n\n    // Match '11'\n    if ((matches = str.match(/^(\\d+)$/))) {\n      time = new Date();\n      time.setHours(str);\n      time.setMinutes(0);\n    }\n    // Match '11:23' and '11.23'\n    if ((matches = str.match(/^(\\d+)(\\.|:)(\\d+)$/))) {\n      const [, hours, , minutes] = matches;\n      time = new Date();\n      time.setHours(hours);\n      time.setMinutes(minutes);\n    }\n    // Match '+1' and '-2'\n    if ((matches = str.match(/^(-|\\+)(\\d+)$/))) {\n      time = new Date();\n      const [, operator, offset] = matches;\n      switch (operator) {\n        case '+':\n          time.setHours(time.getHours() + parseInt(offset));\n          break;\n        case '-':\n          time.setHours(time.getHours() - parseInt(offset));\n          break;\n      }\n    }\n\n    return time;\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","/** @module UrlProcessor */\n\nimport CityType from './type/city.js';\nimport DateType from './type/date.js';\nimport Helper from './Helper.js';\nimport TimeType from './type/time.js';\n\nimport dayjs from 'dayjs';\n\n/** Process a shortcut URL for redirect. */\n\nexport default class UrlProcessor {\n  /**\n   * Get placeholder names from a string.\n   *\n   * @param {string} str    - The string containing placeholders.\n   * @param {string} prefix - The prefix of the placeholders. Must be Regex-escaped.\n   *\n   * @return {object} placeholders - Array keyed with the arguments names and with an array of corresponding placeholders.\n   *\n   *   If the placeholder with the same name occurs multiple times, there are also\n   *   multiple arrays in the nested array.\n   *\n   *   Example:\n   *     http://{%first|type=foo}{%first|type=bar}\n   *   becomes: {\n   *     first: {\n   *       '{%first|type=foo}': {\n   *         type: foo\n   *       }\n   *       '{%first|type=bar}': {\n   *         type: bar\n   *       }\n   *     }\n   *   }\n   */\n  static getPlaceholdersFromString(str, prefix) {\n    const pattern = '{' + prefix + '(.+?)}';\n    const re = RegExp(pattern, 'g');\n    let match;\n    const placeholders = {};\n    while ((match = re.exec(str))) {\n      const { name, placeholder } = this.getPlaceholderFromMatch(match);\n      placeholders[name] = placeholders[name] || {};\n      placeholders[name][match[0]] = placeholder;\n    }\n    return placeholders;\n  }\n\n  static getPlaceholderFromMatch(match) {\n    // Example value:\n    // match[1] = 'query|encoding=utf-8|another=attribute'\n    const nameAndAttributes = match[1].split('|');\n    // Example value:\n    // name = 'query'\n    const name = nameAndAttributes.shift();\n    const placeholder = {};\n    // Example value:\n    // name_and_attributes = ['encoding=utf-8', 'another=attribute']\n    for (const attrStr of nameAndAttributes) {\n      const [attrName, attrValue] = attrStr.split('=', 2);\n      placeholder[attrName] = attrValue;\n    }\n    return { name, placeholder };\n  }\n\n  /**\n   * Get argument names from a string.\n   *\n   * @param {string} str    - The string containing placeholders.\n   *\n   * @return {object} placeholders - Array keyed with the arguments names and with an array of corresponding placeholders.\n   */\n  static getArgumentsFromString(str) {\n    return this.getPlaceholdersFromString(str, '%');\n  }\n\n  /**\n   * Get variable names from a string.\n   *\n   * @param {string} str    - The string containing placeholders.\n   *\n   * @return {object} placeholders - Array keyed with the arguments names and with an array of corresponding placeholders.\n   */\n  static getVariablesFromString(str) {\n    return this.getPlaceholdersFromString(str, '\\\\$');\n  }\n\n  /**\n   * Replace arguments in a string.\n   *\n   * @param {string} str    - The string containing placeholders.\n   * @param {array}  args   - The arguments to replace.\n   *\n   * @return {string} str   - The string with the replaced placeholders.\n   */\n  static async replaceArguments(str, args, env) {\n    const placeholders = this.getArgumentsFromString(str);\n\n    for (const argumentName in placeholders) {\n      let argument = args.shift().trim();\n\n      // An argument can have multiple matches,\n      // so go over all of them.\n      const matches = placeholders[argumentName];\n      for (const match in matches) {\n        argument = await this.processAttributes(argument, matches[match], env);\n        while (str.includes(match)) {\n          str = str.replace(match, argument);\n        }\n      }\n    }\n    return str;\n  }\n\n  static async processAttributes(processedArgument, attributes, env) {\n    processedArgument = await this.processAttributeType(\n      attributes,\n      processedArgument,\n      env,\n    );\n    processedArgument = this.processAttributeTransform(\n      attributes,\n      processedArgument,\n    );\n    processedArgument = this.processAttributeEncoding(\n      attributes,\n      processedArgument,\n    );\n    return processedArgument;\n  }\n\n  static async processAttributeType(attributes, processedArgument, env) {\n    const locale = env.language + '-' + env.country.toUpperCase();\n    switch (attributes.type) {\n      case 'date':\n        processedArgument = await this.processTypeDate(\n          processedArgument,\n          locale,\n          attributes,\n        );\n        break;\n      case 'time':\n        processedArgument = await this.processTypeTime(\n          processedArgument,\n          locale,\n          attributes,\n        );\n        break;\n      case 'city':\n        processedArgument = await this.processTypeCity(processedArgument, env);\n        break;\n    }\n    return processedArgument;\n  }\n\n  static async processTypeDate(processedArgument, locale, attributes) {\n    const dateNative = await DateType.parse(processedArgument, locale);\n    const date = dayjs(dateNative);\n    // If date could be parsed:\n    // Set argument.\n    if (date) {\n      let format = 'YYYY-MM-DD';\n      if (attributes.output) {\n        format = attributes.output;\n      }\n      processedArgument = date.format(format);\n    }\n    return processedArgument;\n  }\n\n  static async processTypeTime(processedArgument, locale, attributes) {\n    const timeNative = await TimeType.parse(processedArgument);\n    const time = dayjs(timeNative);\n    // If time could be parsed:\n    // Set argument.\n    if (time) {\n      let format = 'HH:mm';\n      if (attributes.output) {\n        format = attributes.output;\n      }\n      processedArgument = time.format(format);\n    }\n    return processedArgument;\n  }\n\n  static async processTypeCity(processedArgument, env) {\n    const city = await CityType.parse(processedArgument, env);\n    // If city could be parsed:\n    // Set argument.\n    if (city) {\n      processedArgument = city;\n    }\n    return processedArgument;\n  }\n\n  static processAttributeTransform(attributes, processedArgument) {\n    switch (attributes.transform) {\n      case 'uppercase':\n        processedArgument = processedArgument.toUpperCase();\n        break;\n      case 'lowercase':\n        processedArgument = processedArgument.toLowerCase();\n        break;\n      case 'eo-cx':\n        processedArgument = this.transformEoCx(processedArgument);\n        break;\n    }\n    return processedArgument;\n  }\n\n  static processAttributeEncoding(attributes, processedArgument) {\n    switch (attributes.encoding) {\n      case 'iso-8859-1':\n        // TODO: replace with encodeURIComponent\n        // check if no regression.\n        processedArgument = escape(processedArgument);\n        break;\n      case 'none':\n        break;\n      default:\n        processedArgument = encodeURIComponent(processedArgument);\n        break;\n    }\n    return processedArgument;\n  }\n\n  /**\n   * Replace variables in a string.\n   *\n   * @param {string} str        - The string containing placeholders.\n   * @param {array}  variables  - The variables to replace.\n   *\n   * @return {string} str       - The string with the replaced variables.\n   */\n  static replaceVariables(str, variables) {\n    const placeholders = this.getVariablesFromString(str);\n\n    for (const varName in placeholders) {\n      const matches = placeholders[varName];\n      let value;\n      for (const match in matches) {\n        const attributes = matches[match];\n        switch (varName) {\n          case 'now':\n            const time = dayjs();\n\n            let format = 'HH:mm';\n            if (attributes.output) {\n              format = attributes.output;\n            }\n            value = time.format(format);\n\n            break;\n\n          default:\n            value = variables[varName];\n            break;\n        }\n        str = str.replace(new RegExp(Helper.escapeRegExp(match), 'g'), value);\n      }\n    }\n    return str;\n  }\n\n  /**\n   * Replaces Esperanto character codes in a given string with their corresponding characters.\n   *\n   * @param {string} str - The input string to map Esperanto character codes from.\n   *\n   * @returns {string} The resulting string with mapped Esperanto character codes.\n   */\n  static transformEoCx(str) {\n    const charMap = {\n      cx: 'ĉ',\n      gx: 'ĝ',\n      hx: 'ĥ',\n      jx: 'ĵ',\n      sx: 'ŝ',\n      ux: 'ŭ',\n      CX: 'Ĉ',\n      GX: 'Ĝ',\n      HX: 'Ĥ',\n      JX: 'Ĵ',\n      SX: 'Ŝ',\n      UX: 'Ŭ',\n      Cx: 'Ĉ',\n      Gx: 'Ĝ',\n      Hx: 'Ĥ',\n      Jx: 'Ĵ',\n      Sx: 'Ŝ',\n      Ux: 'Ŭ',\n    };\n\n    const regex = new RegExp(Object.keys(charMap).join('|'), 'g');\n    str = str.replace(regex, (matched) => charMap[matched]);\n    return str;\n  }\n}\n","\n/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nvar isNothing_1      = isNothing;\nvar isObject_1       = isObject;\nvar toArray_1        = toArray;\nvar repeat_1         = repeat;\nvar isNegativeZero_1 = isNegativeZero;\nvar extend_1         = extend;\n\nvar common = {\n\tisNothing: isNothing_1,\n\tisObject: isObject_1,\n\ttoArray: toArray_1,\n\trepeat: repeat_1,\n\tisNegativeZero: isNegativeZero_1,\n\textend: extend_1\n};\n\n// YAML error class. http://stackoverflow.com/questions/8458984\n\n\nfunction formatError(exception, compact) {\n  var where = '', message = exception.reason || '(unknown reason)';\n\n  if (!exception.mark) return message;\n\n  if (exception.mark.name) {\n    where += 'in \"' + exception.mark.name + '\" ';\n  }\n\n  where += '(' + (exception.mark.line + 1) + ':' + (exception.mark.column + 1) + ')';\n\n  if (!compact && exception.mark.snippet) {\n    where += '\\n\\n' + exception.mark.snippet;\n  }\n\n  return message + ' ' + where;\n}\n\n\nfunction YAMLException$1(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = formatError(this, false);\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException$1.prototype = Object.create(Error.prototype);\nYAMLException$1.prototype.constructor = YAMLException$1;\n\n\nYAMLException$1.prototype.toString = function toString(compact) {\n  return this.name + ': ' + formatError(this, compact);\n};\n\n\nvar exception = YAMLException$1;\n\n// get snippet for a single line, respecting maxLength\nfunction getLine(buffer, lineStart, lineEnd, position, maxLineLength) {\n  var head = '';\n  var tail = '';\n  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;\n\n  if (position - lineStart > maxHalfLength) {\n    head = ' ... ';\n    lineStart = position - maxHalfLength + head.length;\n  }\n\n  if (lineEnd - position > maxHalfLength) {\n    tail = ' ...';\n    lineEnd = position + maxHalfLength - tail.length;\n  }\n\n  return {\n    str: head + buffer.slice(lineStart, lineEnd).replace(/\\t/g, '→') + tail,\n    pos: position - lineStart + head.length // relative position\n  };\n}\n\n\nfunction padStart(string, max) {\n  return common.repeat(' ', max - string.length) + string;\n}\n\n\nfunction makeSnippet(mark, options) {\n  options = Object.create(options || null);\n\n  if (!mark.buffer) return null;\n\n  if (!options.maxLength) options.maxLength = 79;\n  if (typeof options.indent      !== 'number') options.indent      = 1;\n  if (typeof options.linesBefore !== 'number') options.linesBefore = 3;\n  if (typeof options.linesAfter  !== 'number') options.linesAfter  = 2;\n\n  var re = /\\r?\\n|\\r|\\0/g;\n  var lineStarts = [ 0 ];\n  var lineEnds = [];\n  var match;\n  var foundLineNo = -1;\n\n  while ((match = re.exec(mark.buffer))) {\n    lineEnds.push(match.index);\n    lineStarts.push(match.index + match[0].length);\n\n    if (mark.position <= match.index && foundLineNo < 0) {\n      foundLineNo = lineStarts.length - 2;\n    }\n  }\n\n  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;\n\n  var result = '', i, line;\n  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;\n  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);\n\n  for (i = 1; i <= options.linesBefore; i++) {\n    if (foundLineNo - i < 0) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo - i],\n      lineEnds[foundLineNo - i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),\n      maxLineLength\n    );\n    result = common.repeat(' ', options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n' + result;\n  }\n\n  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);\n  result += common.repeat(' ', options.indent) + padStart((mark.line + 1).toString(), lineNoLength) +\n    ' | ' + line.str + '\\n';\n  result += common.repeat('-', options.indent + lineNoLength + 3 + line.pos) + '^' + '\\n';\n\n  for (i = 1; i <= options.linesAfter; i++) {\n    if (foundLineNo + i >= lineEnds.length) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo + i],\n      lineEnds[foundLineNo + i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),\n      maxLineLength\n    );\n    result += common.repeat(' ', options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n';\n  }\n\n  return result.replace(/\\n$/, '');\n}\n\n\nvar snippet = makeSnippet;\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'multi',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'representName',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type$1(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new exception('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.options       = options; // keep original options in case user wants to extend this type later\n  this.tag           = tag;\n  this.kind          = options['kind']          || null;\n  this.resolve       = options['resolve']       || function () { return true; };\n  this.construct     = options['construct']     || function (data) { return data; };\n  this.instanceOf    = options['instanceOf']    || null;\n  this.predicate     = options['predicate']     || null;\n  this.represent     = options['represent']     || null;\n  this.representName = options['representName'] || null;\n  this.defaultStyle  = options['defaultStyle']  || null;\n  this.multi         = options['multi']         || false;\n  this.styleAliases  = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new exception('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nvar type = Type$1;\n\n/*eslint-disable max-len*/\n\n\n\n\n\nfunction compileList(schema, name) {\n  var result = [];\n\n  schema[name].forEach(function (currentType) {\n    var newIndex = result.length;\n\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag &&\n          previousType.kind === currentType.kind &&\n          previousType.multi === currentType.multi) {\n\n        newIndex = previousIndex;\n      }\n    });\n\n    result[newIndex] = currentType;\n  });\n\n  return result;\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {},\n        multi: {\n          scalar: [],\n          sequence: [],\n          mapping: [],\n          fallback: []\n        }\n      }, index, length;\n\n  function collectType(type) {\n    if (type.multi) {\n      result.multi[type.kind].push(type);\n      result.multi['fallback'].push(type);\n    } else {\n      result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n    }\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema$1(definition) {\n  return this.extend(definition);\n}\n\n\nSchema$1.prototype.extend = function extend(definition) {\n  var implicit = [];\n  var explicit = [];\n\n  if (definition instanceof type) {\n    // Schema.extend(type)\n    explicit.push(definition);\n\n  } else if (Array.isArray(definition)) {\n    // Schema.extend([ type1, type2, ... ])\n    explicit = explicit.concat(definition);\n\n  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {\n    // Schema.extend({ explicit: [ type1, type2, ... ], implicit: [ type1, type2, ... ] })\n    if (definition.implicit) implicit = implicit.concat(definition.implicit);\n    if (definition.explicit) explicit = explicit.concat(definition.explicit);\n\n  } else {\n    throw new exception('Schema.extend argument should be a Type, [ Type ], ' +\n      'or a schema definition ({ implicit: [...], explicit: [...] })');\n  }\n\n  implicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n\n    if (type$1.loadKind && type$1.loadKind !== 'scalar') {\n      throw new exception('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n\n    if (type$1.multi) {\n      throw new exception('There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.');\n    }\n  });\n\n  explicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n  });\n\n  var result = Object.create(Schema$1.prototype);\n\n  result.implicit = (this.implicit || []).concat(implicit);\n  result.explicit = (this.explicit || []).concat(explicit);\n\n  result.compiledImplicit = compileList(result, 'implicit');\n  result.compiledExplicit = compileList(result, 'explicit');\n  result.compiledTypeMap  = compileMap(result.compiledImplicit, result.compiledExplicit);\n\n  return result;\n};\n\n\nvar schema = Schema$1;\n\nvar str = new type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n\nvar seq = new type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n\nvar map = new type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n\nvar failsafe = new schema({\n  explicit: [\n    str,\n    seq,\n    map\n  ]\n});\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nvar _null = new type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; },\n    empty:     function () { return '';     }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nvar bool = new type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'o') {\n      // base 8\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isOctCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n  }\n\n  // base 10 (except 0)\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  return true;\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch;\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value.slice(2), 16);\n    if (value[1] === 'o') return sign * parseInt(value.slice(2), 8);\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nvar int = new type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0o'  + obj.toString(8) : '-0o'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nvar float = new type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n\nvar json = failsafe.extend({\n  implicit: [\n    _null,\n    bool,\n    int,\n    float\n  ]\n});\n\nvar core = json;\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nvar timestamp = new type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nvar merge = new type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n\n/*eslint-disable no-bitwise*/\n\n\n\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  return new Uint8Array(result);\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(obj) {\n  return Object.prototype.toString.call(obj) ===  '[object Uint8Array]';\n}\n\nvar binary = new type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n\nvar _hasOwnProperty$3 = Object.prototype.hasOwnProperty;\nvar _toString$2       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString$2.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty$3.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nvar omap = new type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n\nvar _toString$1 = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString$1.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nvar pairs = new type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n\nvar _hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty$2.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nvar set = new type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n\nvar _default = core.extend({\n  implicit: [\n    timestamp,\n    merge\n  ],\n  explicit: [\n    binary,\n    omap,\n    pairs,\n    set\n  ]\n});\n\n/*eslint-disable max-len,no-use-before-define*/\n\n\n\n\n\n\n\nvar _hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State$1(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || _default;\n  this.onWarning = options['onWarning'] || null;\n  // (Hidden) Remove? makes the loader to expect YAML 1.1 documents\n  // if such documents have no explicit %YAML directive\n  this.legacy    = options['legacy']    || false;\n\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  // position of first leading tab in the current line,\n  // used to make sure there are no tabs in the indentation\n  this.firstTabInLine = -1;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  var mark = {\n    name:     state.filename,\n    buffer:   state.input.slice(0, -1), // omit trailing \\0\n    position: state.position,\n    line:     state.line,\n    column:   state.position - state.lineStart\n  };\n\n  mark.snippet = snippet(mark);\n\n  return new exception(message, mark);\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty$1.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    try {\n      prefix = decodeURIComponent(prefix);\n    } catch (err) {\n      throwError(state, 'tag prefix is malformed: ' + prefix);\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty$1.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode,\n  startLine, startLineStart, startPos) {\n\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty$1.call(overridableKeys, keyNode) &&\n        _hasOwnProperty$1.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.lineStart = startLineStart || state.lineStart;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n\n    // used for this specific key only because Object.defineProperty is slow\n    if (keyNode === '__proto__') {\n      Object.defineProperty(_result, keyNode, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: valueNode\n      });\n    } else {\n      _result[keyNode] = valueNode;\n    }\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n  state.firstTabInLine = -1;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      if (ch === 0x09/* Tab */ && state.firstTabInLine === -1) {\n        state.firstTabInLine = state.position;\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _lineStart,\n      _pos,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = Object.create(null),\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    } else if (ch === 0x2C/* , */) {\n      // \"flow collection entries can never be completely empty\", as per YAML 1.2, section 7.4\n      throwError(state, \"expected the node content, but found ','\");\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line; // Save the current line.\n    _lineStart = state.lineStart;\n    _pos = state.position;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _keyLine,\n      _keyLineStart,\n      _keyPos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = Object.create(null),\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (!atExplicitKey && state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else {\n      _keyLine = state.line;\n      _keyLineStart = state.lineStart;\n      _keyPos = state.position;\n\n      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n        // Neither implicit nor explicit notation.\n        // Reading is done. Go to the epilogue.\n        break;\n      }\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (atExplicitKey) {\n        _keyLine = state.line;\n        _keyLineStart = state.lineStart;\n        _keyPos = state.position;\n      }\n\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  try {\n    tagName = decodeURIComponent(tagName);\n  } catch (err) {\n    throwError(state, 'tag name is malformed: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      typeList,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag === null) {\n    if (state.anchor !== null) {\n      state.anchorMap[state.anchor] = state.result;\n    }\n\n  } else if (state.tag === '?') {\n    // Implicit resolving is not allowed for non-scalar types, and '?'\n    // non-specific tag is only automatically assigned to plain scalars.\n    //\n    // We only need to check kind conformity in case user explicitly assigns '?'\n    // tag, for example like this: \"!<?> [0]\"\n    //\n    if (state.result !== null && state.kind !== 'scalar') {\n      throwError(state, 'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"' + state.kind + '\"');\n    }\n\n    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n      type = state.implicitTypes[typeIndex];\n\n      if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        state.result = type.construct(state.result);\n        state.tag = type.tag;\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n        break;\n      }\n    }\n  } else if (state.tag !== '!') {\n    if (_hasOwnProperty$1.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n    } else {\n      // looking for multi type\n      type = null;\n      typeList = state.typeMap.multi[state.kind || 'fallback'];\n\n      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {\n        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {\n          type = typeList[typeIndex];\n          break;\n        }\n      }\n    }\n\n    if (!type) {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n\n    if (state.result !== null && type.kind !== state.kind) {\n      throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n    }\n\n    if (!type.resolve(state.result, state.tag)) { // `state.result` updated in resolver if matched\n      throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n    } else {\n      state.result = type.construct(state.result, state.tag);\n      if (state.anchor !== null) {\n        state.anchorMap[state.anchor] = state.result;\n      }\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = Object.create(null);\n  state.anchorMap = Object.create(null);\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State$1(input, options);\n\n  var nullpos = input.indexOf('\\0');\n\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, 'null byte is not allowed in input');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll$1(input, iterator, options) {\n  if (iterator !== null && typeof iterator === 'object' && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  var documents = loadDocuments(input, options);\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load$1(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new exception('expected a single document in the stream, but found more');\n}\n\n\nvar loadAll_1 = loadAll$1;\nvar load_1    = load$1;\n\nvar loader = {\n\tloadAll: loadAll_1,\n\tload: load_1\n};\n\n/*eslint-disable no-use-before-define*/\n\n\n\n\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_BOM                  = 0xFEFF;\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_EQUALS               = 0x3D; /* = */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nvar DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new exception('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\n\nvar QUOTING_TYPE_SINGLE = 1,\n    QUOTING_TYPE_DOUBLE = 2;\n\nfunction State(options) {\n  this.schema        = options['schema'] || _default;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n  this.quotingType   = options['quotingType'] === '\"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;\n  this.forceQuotes   = options['forceQuotes'] || false;\n  this.replacer      = typeof options['replacer'] === 'function' ? options['replacer'] : null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isn’t mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== CHAR_BOM)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// [34] ns-char ::= nb-char - s-white\n// [27] nb-char ::= c-printable - b-char - c-byte-order-mark\n// [26] b-char  ::= b-line-feed | b-carriage-return\n// Including s-white (for some reason, examples doesn't match specs in this aspect)\n// ns-char ::= c-printable - b-line-feed - b-carriage-return - c-byte-order-mark\nfunction isNsCharOrWhitespace(c) {\n  return isPrintable(c)\n    && c !== CHAR_BOM\n    // - b-char\n    && c !== CHAR_CARRIAGE_RETURN\n    && c !== CHAR_LINE_FEED;\n}\n\n// [127]  ns-plain-safe(c) ::= c = flow-out  ⇒ ns-plain-safe-out\n//                             c = flow-in   ⇒ ns-plain-safe-in\n//                             c = block-key ⇒ ns-plain-safe-out\n//                             c = flow-key  ⇒ ns-plain-safe-in\n// [128] ns-plain-safe-out ::= ns-char\n// [129]  ns-plain-safe-in ::= ns-char - c-flow-indicator\n// [130]  ns-plain-char(c) ::=  ( ns-plain-safe(c) - “:” - “#” )\n//                            | ( /* An ns-char preceding */ “#” )\n//                            | ( “:” /* Followed by an ns-plain-safe(c) */ )\nfunction isPlainSafe(c, prev, inblock) {\n  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);\n  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);\n  return (\n    // ns-plain-safe\n    inblock ? // c = flow-in\n      cIsNsCharOrWhitespace\n      : cIsNsCharOrWhitespace\n        // - c-flow-indicator\n        && c !== CHAR_COMMA\n        && c !== CHAR_LEFT_SQUARE_BRACKET\n        && c !== CHAR_RIGHT_SQUARE_BRACKET\n        && c !== CHAR_LEFT_CURLY_BRACKET\n        && c !== CHAR_RIGHT_CURLY_BRACKET\n  )\n    // ns-plain-char\n    && c !== CHAR_SHARP // false on '#'\n    && !(prev === CHAR_COLON && !cIsNsChar) // false on ': '\n    || (isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP) // change to true on '[^ ]#'\n    || (prev === CHAR_COLON && cIsNsChar); // change to true on ':[^ ]'\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  // No support of ( ( “?” | “:” | “-” ) /* Followed by an ns-plain-safe(c)) */ ) part\n  return isPrintable(c) && c !== CHAR_BOM\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // “-” | “?” | “:” | “,” | “[” | “]” | “{” | “}”\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | “#” | “&” | “*” | “!” | “|” | “=” | “>” | “'” | “\"”\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_EQUALS\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | “%” | “@” | “`”)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Simplified test for values allowed as the last character in plain style.\nfunction isPlainSafeLast(c) {\n  // just not whitespace or colon, it will be checked to be plain character later\n  return !isWhitespace(c) && c !== CHAR_COLON;\n}\n\n// Same as 'string'.codePointAt(pos), but works in older browsers.\nfunction codePointAt(string, pos) {\n  var first = string.charCodeAt(pos), second;\n  if (first >= 0xD800 && first <= 0xDBFF && pos + 1 < string.length) {\n    second = string.charCodeAt(pos + 1);\n    if (second >= 0xDC00 && second <= 0xDFFF) {\n      // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n    }\n  }\n  return first;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth,\n  testAmbiguousType, quotingType, forceQuotes, inblock) {\n\n  var i;\n  var char = 0;\n  var prevChar = null;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(codePointAt(string, 0))\n          && isPlainSafeLast(codePointAt(string, string.length - 1));\n\n  if (singleLineOnly || forceQuotes) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    if (plain && !forceQuotes && !testAmbiguousType(string)) {\n      return STYLE_PLAIN;\n    }\n    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  if (!forceQuotes) {\n    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n  }\n  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//    • No ending newline => unaffected; already using strip \"-\" chomping.\n//    • Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey, inblock) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return state.quotingType === QUOTING_TYPE_DOUBLE ? '\"\"' : \"''\";\n    }\n    if (!state.noCompatMode) {\n      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {\n        return state.quotingType === QUOTING_TYPE_DOUBLE ? ('\"' + string + '\"') : (\"'\" + string + \"'\");\n      }\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth ≤ 40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth,\n      testAmbiguity, state.quotingType, state.forceQuotes && !iskey, inblock)) {\n\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string) + '\"';\n      default:\n        throw new exception('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines—\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char = 0;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n    char = codePointAt(string, i);\n    escapeSeq = ESCAPE_SEQUENCES[char];\n\n    if (!escapeSeq && isPrintable(char)) {\n      result += string[i];\n      if (char >= 0x10000) result += string[i + 1];\n    } else {\n      result += escapeSeq || encodeHex(char);\n    }\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level, value, false, false) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level, null, false, false))) {\n\n      if (_result !== '') _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level + 1, value, true, true, false, true) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level + 1, null, true, true, false, true))) {\n\n      if (!compact || _result !== '') {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n\n    pairBuffer = '';\n    if (_result !== '') pairBuffer += ', ';\n\n    if (state.condenseFlow) pairBuffer += '\"';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new exception('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || _result !== '') {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      if (explicit) {\n        if (type.multi && type.representName) {\n          state.tag = type.representName(object);\n        } else {\n          state.tag = type.tag;\n        }\n      } else {\n        state.tag = '?';\n      }\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new exception('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey, isblockseq) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n  var inblock = block;\n  var tagStr;\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      if (block && (state.dump.length !== 0)) {\n        if (state.noArrayIndent && !isblockseq && level > 0) {\n          writeBlockSequence(state, level - 1, state.dump, compact);\n        } else {\n          writeBlockSequence(state, level, state.dump, compact);\n        }\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey, inblock);\n      }\n    } else if (type === '[object Undefined]') {\n      return false;\n    } else {\n      if (state.skipInvalid) return false;\n      throw new exception('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      // Need to encode all characters except those allowed by the spec:\n      //\n      // [35] ns-dec-digit    ::=  [#x30-#x39] /* 0-9 */\n      // [36] ns-hex-digit    ::=  ns-dec-digit\n      //                         | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */\n      // [37] ns-ascii-letter ::=  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */\n      // [38] ns-word-char    ::=  ns-dec-digit | ns-ascii-letter | “-”\n      // [39] ns-uri-char     ::=  “%” ns-hex-digit ns-hex-digit | ns-word-char | “#”\n      //                         | “;” | “/” | “?” | “:” | “@” | “&” | “=” | “+” | “$” | “,”\n      //                         | “_” | “.” | “!” | “~” | “*” | “'” | “(” | “)” | “[” | “]”\n      //\n      // Also need to encode '!' because it has special meaning (end of tag prefix).\n      //\n      tagStr = encodeURI(\n        state.tag[0] === '!' ? state.tag.slice(1) : state.tag\n      ).replace(/!/g, '%21');\n\n      if (state.tag[0] === '!') {\n        tagStr = '!' + tagStr;\n      } else if (tagStr.slice(0, 18) === 'tag:yaml.org,2002:') {\n        tagStr = '!!' + tagStr.slice(18);\n      } else {\n        tagStr = '!<' + tagStr + '>';\n      }\n\n      state.dump = tagStr + ' ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump$1(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  var value = input;\n\n  if (state.replacer) {\n    value = state.replacer.call({ '': value }, '', value);\n  }\n\n  if (writeNode(state, 0, value, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nvar dump_1 = dump$1;\n\nvar dumper = {\n\tdump: dump_1\n};\n\nfunction renamed(from, to) {\n  return function () {\n    throw new Error('Function yaml.' + from + ' is removed in js-yaml 4. ' +\n      'Use yaml.' + to + ' instead, which is now safe by default.');\n  };\n}\n\n\nvar Type                = type;\nvar Schema              = schema;\nvar FAILSAFE_SCHEMA     = failsafe;\nvar JSON_SCHEMA         = json;\nvar CORE_SCHEMA         = core;\nvar DEFAULT_SCHEMA      = _default;\nvar load                = loader.load;\nvar loadAll             = loader.loadAll;\nvar dump                = dumper.dump;\nvar YAMLException       = exception;\n\n// Re-export all types in case user wants to create custom schema\nvar types = {\n  binary:    binary,\n  float:     float,\n  map:       map,\n  null:      _null,\n  pairs:     pairs,\n  set:       set,\n  timestamp: timestamp,\n  bool:      bool,\n  int:       int,\n  merge:     merge,\n  omap:      omap,\n  seq:       seq,\n  str:       str\n};\n\n// Removed functions from JS-YAML 3.0.x\nvar safeLoad            = renamed('safeLoad', 'load');\nvar safeLoadAll         = renamed('safeLoadAll', 'loadAll');\nvar safeDump            = renamed('safeDump', 'dump');\n\nvar jsYaml = {\n\tType: Type,\n\tSchema: Schema,\n\tFAILSAFE_SCHEMA: FAILSAFE_SCHEMA,\n\tJSON_SCHEMA: JSON_SCHEMA,\n\tCORE_SCHEMA: CORE_SCHEMA,\n\tDEFAULT_SCHEMA: DEFAULT_SCHEMA,\n\tload: load,\n\tloadAll: loadAll,\n\tdump: dump,\n\tYAMLException: YAMLException,\n\ttypes: types,\n\tsafeLoad: safeLoad,\n\tsafeLoadAll: safeLoadAll,\n\tsafeDump: safeDump\n};\n\nexport default jsYaml;\nexport { CORE_SCHEMA, DEFAULT_SCHEMA, FAILSAFE_SCHEMA, JSON_SCHEMA, Schema, Type, YAMLException, dump, load, loadAll, safeDump, safeLoad, safeLoadAll, types };\n","/** @module NamespaceFetcher */\n\nimport UrlProcessor from './UrlProcessor.js';\nimport jsyaml from 'js-yaml';\nimport Helper from './Helper.js';\n\nexport default class NamespaceFetcher {\n  constructor(env) {\n    this.env = env;\n    this.namespaceInfos = {};\n  }\n\n  /**\n   * Gets namespace information for given namespaces\n   * @param {Array} namespaces - An array of namespace names\n   * @returns {Object} An object containing namespace information\n   */\n  async getNamespaceInfos(namespaces) {\n    this.namespaceInfos = this.getInitialNamespaceInfos(namespaces, 1);\n    this.namespaceInfos = await this.assignShortcutsFromData(\n      this.namespaceInfos,\n    );\n    this.namespaceInfos = await this.fetchNamespaceInfos(this.namespaceInfos);\n    this.namespaceInfos = this.processIncludeAll(this.namespaceInfos);\n    this.namespaceInfos = this.addReachable(this.namespaceInfos);\n    this.namespaceInfos = this.addInfoAll(this.namespaceInfos);\n    this.verifyAll(this.namespaceInfos);\n    return this.namespaceInfos;\n  }\n\n  /**\n   * Gets initial namespace information for given namespaces\n   * @param {Array} namespaces - An array of namespace names\n   * @param {number} priorityOffset - The offset to be used when setting the priority.\n   * @returns {Object} An object containing initial namespace information for each given namespace\n   */\n  getInitialNamespaceInfos(namespaces, priorityOffset) {\n    return Object.fromEntries(\n      namespaces.map((namespace, index) => {\n        const namespaceInfo = this.getInitalNamespaceInfo(namespace);\n        namespaceInfo.priority = index + priorityOffset;\n        return [namespaceInfo.name, namespaceInfo];\n      }),\n    );\n  }\n\n  /**\n   * Add a fetch URL template to a namespace.\n   * @param {(string|Object)} namespace - The namespace to add the URL template to.\n   * @return {Object} namespace - The namespace with the added URL template.\n   */\n  getInitalNamespaceInfo(namespace) {\n    // Site namespaces:\n    if (typeof namespace == 'string' && namespace.length < 4) {\n      namespace = this.addFetchUrlToSiteNamespace(namespace);\n      return namespace;\n    }\n    // User namespace 1 – custom URL:\n    if (namespace.url && namespace.name) {\n      // Just add the type.\n      namespace.type = 'user';\n      return namespace;\n    }\n    // Now remains: User namespace 2 – Github:\n    if (typeof namespace == 'string') {\n      // Create an object.\n      namespace = { github: namespace };\n    }\n    namespace = this.addFetchUrlToGithubNamespace(namespace);\n    return namespace;\n  }\n\n  /**\n   * Add a URL template to a namespace that refers to a namespace in trovu-data.\n   * @param {string} name - The namespace name.\n   * @return {Object} namespace - The namespace with the added URL template.\n   */\n  addFetchUrlToSiteNamespace(name) {\n    const namespace = {\n      name: name,\n      type: 'site',\n      url: `https://data.trovu.net/data/shortcuts/${name}.yml?${this.env.commitHash}`,\n    };\n    return namespace;\n  }\n\n  /**\n   * Add a URL template to a namespace that refers to a Github user repo.\n   *\n   * @param {string} name - The namespace name.\n   *\n   * @return {Object} namespace - The namespace with the added URL template.\n   */\n  addFetchUrlToGithubNamespace(namespace) {\n    if (namespace.github == '.') {\n      // Set to current user.\n      namespace.github = this.env.github;\n    }\n    // Default name to Github name.\n    if (!namespace.name) {\n      namespace.name = namespace.github;\n    }\n    namespace.url = `https://raw.githubusercontent.com/${namespace.github}/trovu-data-user/master/shortcuts.yml?${this.env.commitHash}`;\n    namespace.type = 'user';\n    return namespace;\n  }\n\n  /**\n   * Fetches the information for the site namespaces from Trovu server.\n   * @param {Object} namespaceInfos - An object of initial namespace infos.\n   * @returns {Object} An object containing the fetched information for each given namespace\n   */\n  async assignShortcutsFromData(namespaceInfos) {\n    const data = this.env.data;\n    for (const namespaceName in data.shortcuts) {\n      if (!namespaceInfos[namespaceName]) {\n        namespaceInfos[namespaceName] = {};\n      }\n      namespaceInfos[namespaceName].name = namespaceName;\n      namespaceInfos[namespaceName].shortcuts = data.shortcuts[namespaceName];\n    }\n    return namespaceInfos;\n  }\n\n  /**\n   * Fetches the information for the given namespaces from an external source\n   * @param {Object} namespaceInfos - An object of initial namespace infos.\n   * @returns {Object} An object containing the fetched information for each given namespace\n   */\n  async fetchNamespaceInfos(namespaceInfos) {\n    for (\n      let i = 0;\n      Object.values(namespaceInfos).filter((item) => !('shortcuts' in item))\n        .length > 0 && i <= 10;\n      i++\n    ) {\n      if (i >= 10) {\n        this.env.logger.error(`NamespaceFetcher loop ran already ${i} times.`);\n      }\n      const newNamespaceInfos = Object.values(namespaceInfos).filter(\n        (item) => !('shortcuts' in item),\n      );\n      const promises = this.startFetches(newNamespaceInfos);\n      const responses = await Promise.all(promises);\n      await this.processResponses(newNamespaceInfos, responses);\n      for (const namespaceInfo of newNamespaceInfos) {\n        namespaceInfos[namespaceInfo.name] = namespaceInfo;\n      }\n    }\n    return namespaceInfos;\n  }\n\n  /**\n   * Start fetching shortcuts per namespace.\n   *\n   * @param {array} newNamespaceInfos - The namespaces to fetch shortcuts for.\n   *\n   * @return {array} promises - The promises from the fetch() calls.\n   */\n  startFetches(newNamespaceInfos) {\n    const promises = [];\n    for (const namespaceInfo of newNamespaceInfos) {\n      const promise = fetch(namespaceInfo.url, {\n        cache: this.env.reload ? 'reload' : 'force-cache',\n      });\n      promises.push(promise);\n    }\n    return promises;\n  }\n\n  /**\n   * Processes responses and updates namespace information.\n   *\n   * @param {Object} newNamespaceInfos - An object containing new namespace information.\n   * @param {Array} responses - An array of responses to process.\n   *\n   * @returns {Object} The updated namespace information object.\n   */\n  async processResponses(newNamespaceInfos, responses) {\n    for (const namespaceInfo of newNamespaceInfos) {\n      const response = responses.shift();\n      if (!response || response.status != 200) {\n        this.env.logger.warning(\n          `Problem fetching via ${this.env.reload ? 'reload' : 'cache'} ${\n            namespaceInfo.url\n          }`,\n        );\n        namespaceInfo.shortcuts = [];\n        continue;\n      }\n      this.env.logger.success(\n        `Success fetching via ${this.env.reload ? 'reload' : 'cache'} ${\n          namespaceInfo.url\n        }`,\n      );\n\n      const text = await response.text();\n      namespaceInfo.shortcuts = this.parseShortcutsFromYml(\n        text,\n        namespaceInfo.url,\n      );\n\n      namespaceInfo.shortcuts = this.checkKeySyntax(\n        namespaceInfo.shortcuts,\n        namespaceInfo.name,\n      );\n      for (const key in namespaceInfo.shortcuts) {\n        namespaceInfo.shortcuts[key] = this.convertToObject(\n          namespaceInfo.shortcuts[key],\n        );\n        this.addNamespacesFromInclude(namespaceInfo.shortcuts[key]);\n      }\n    }\n    return newNamespaceInfos;\n  }\n\n  /**\n   * Parse a YAML string.\n   *\n   * @param {string} text - String to parse.\n   * @param {string} url - The URL of the YAML, for error reporting.\n   *\n   * @return {object} namespaces - The parsed shortcuts.\n   */\n  parseShortcutsFromYml(text, url) {\n    try {\n      const shortcuts = jsyaml.load(text);\n      return shortcuts;\n    } catch (error) {\n      this.env.logger.error(`Parse error in ${url}: ${error.message}`);\n    }\n  }\n\n  /**\n   * Ensure shortcuts have the correct structure.\n   *\n   * @param {array} shortcuts      - The shortcuts to normalize.\n   * @param {string} namespaceName - The namespace name to show in error message.\n   *\n   * @return {array} shortcuts - The normalized shortcuts.\n   */\n  checkKeySyntax(shortcuts, namespaceName) {\n    for (const key in shortcuts) {\n      if (!key.match(/\\S+ \\d/)) {\n        this.env.logger.error(\n          `Incorrect key \"${key}\" in namespace ${namespaceName}: Must have form \"KEYWORD ARGUMENTCOUNT\".`,\n        );\n      }\n    }\n    return shortcuts;\n  }\n\n  addNamespacesFromInclude(shortcut) {\n    const includes = this.getIncludes(shortcut);\n    for (const include of includes) {\n      if (include && include.namespace) {\n        const namespaceInfo = this.getInitalNamespaceInfo(include.namespace);\n        if (!this.namespaceInfos[namespaceInfo.name]) {\n          this.namespaceInfos[namespaceInfo.name] = namespaceInfo;\n        }\n      }\n    }\n  }\n\n  /**\n   * Converts a given shortcut to an object\n   * @param {string|Object} shortcut - The shortcut to convert\n   * @returns {Object} The converted shortcut object\n   */\n  convertToObject(shortcut) {\n    if (typeof shortcut === 'string') {\n      const url = shortcut;\n      shortcut = {\n        url: url,\n      };\n    }\n    return shortcut;\n  }\n\n  processIncludeAll(namespaceInfos) {\n    for (const namespaceName in namespaceInfos) {\n      const namespaceInfo = namespaceInfos[namespaceName];\n      const shortcuts = namespaceInfo.shortcuts;\n      for (const key in shortcuts) {\n        const shortcut = shortcuts[key];\n        if (!shortcut.include) {\n          continue;\n        }\n        shortcuts[key] = this.processInclude(\n          shortcut,\n          namespaceName,\n          namespaceInfos,\n        );\n        if (!shortcuts[key]) {\n          delete shortcuts[key];\n        }\n      }\n    }\n    return namespaceInfos;\n  }\n\n  processInclude(shortcut, namespaceName, namespaceInfos, depth = 0) {\n    if (depth >= 10) {\n      this.env.logger.error(\n        `NamespaceFetcher loop ran already ${depth} times.`,\n      );\n    }\n    const includes = this.getIncludes(shortcut);\n    for (const include of includes) {\n      if (!include.key) {\n        this.env.error(`Include with missing key at: ${key}`);\n      }\n      const keyUnprocessed = include.key;\n      const key = UrlProcessor.replaceVariables(keyUnprocessed, {\n        language: this.env.language,\n        country: this.env.country,\n      });\n      namespaceName = include.namespace || namespaceName;\n      if (!namespaceInfos[namespaceName]) {\n        this.env.logger.warning(`Namespace \"${namespaceName}\" does not exist.`);\n        continue;\n      }\n      let shortcutToInclude = namespaceInfos[namespaceName].shortcuts[key];\n      if (!shortcutToInclude) {\n        continue;\n      }\n      if (shortcutToInclude.include) {\n        shortcutToInclude = this.processInclude(\n          shortcutToInclude,\n          namespaceName,\n          namespaceInfos,\n          depth + 1,\n        );\n      }\n      if (Object.keys(shortcutToInclude).length === 0) {\n        continue;\n      }\n      const shortcutToIncludeCloned = this.cloneShortcut(shortcutToInclude);\n      shortcut = Object.assign(shortcutToIncludeCloned, shortcut);\n      return shortcut;\n    }\n    return false;\n  }\n\n  getIncludes(shortcut) {\n    let includes = [];\n    if (Array.isArray(shortcut.include)) {\n      includes = shortcut.include;\n    } else {\n      includes.push(shortcut.include);\n    }\n    return includes;\n  }\n\n  /**\n   * Clones a given shortcut object\n   * @param {Object} shortcut - The shortcut object to clone\n   * @returns {Object} The cloned shortcut object\n   */\n  cloneShortcut(shortcut) {\n    // This approach seems more browser-supported than structuredClone().\n    const str = JSON.stringify(shortcut);\n    const clonedShortcut = JSON.parse(str);\n    return clonedShortcut;\n  }\n\n  /**\n   * Enrich shortcuts with their own information: argument & namespace names, reachable.\n   *\n   * @param {object} namespaces - Current namespaces keyed by their name.\n   */\n  addReachable(namespaceInfos) {\n    const namespaceInfosByPriority = Object.values(namespaceInfos).sort(\n      (a, b) => {\n        return b.priority - a.priority;\n      },\n    );\n\n    // Remember found shortcuts\n    // to know which ones are reachable.\n    const foundShortcuts = new Set();\n\n    for (const namespaceInfo of namespaceInfosByPriority) {\n      if (!this.isSubscribed(namespaceInfo)) {\n        continue;\n      }\n      for (const key in namespaceInfo.shortcuts) {\n        // If not yet present: reachable.\n        namespaceInfo.shortcuts[key].reachable = !foundShortcuts.has(key);\n        foundShortcuts.add(key);\n      }\n    }\n    return namespaceInfos;\n  }\n\n  addInfoAll(namespaceInfos) {\n    for (const namespaceInfo of Object.values(namespaceInfos)) {\n      for (const key in namespaceInfo.shortcuts) {\n        namespaceInfo.shortcuts[key] = this.addInfo(\n          namespaceInfo.shortcuts[key],\n          key,\n          namespaceInfo.name,\n        );\n      }\n    }\n    return namespaceInfos;\n  }\n\n  /**\n   *  Add info like keyword, arguments to a shortcut.\n   *\n   * @param {object} shortcut - The shortcut.\n   * @param {string} key - The shortcut key.\n   * @param {object} namespaceInfo - The namespace info.\n   *\n   * @return {object} shortcut - Shortcut with info.\n   */\n  addInfo(shortcut, key, namespaceName) {\n    shortcut.key = key;\n    [shortcut.keyword, shortcut.argumentCount] = key.split(' ');\n    shortcut.argumentCount = parseInt(shortcut.argumentCount);\n    shortcut.namespace = namespaceName;\n    shortcut.arguments = UrlProcessor.getArgumentsFromString(shortcut.url);\n    shortcut.title = shortcut.title || '';\n    return shortcut;\n  }\n\n  verifyAll(namespaceInfos) {\n    for (const namespaceInfo of Object.values(namespaceInfos)) {\n      for (const key in namespaceInfo.shortcuts) {\n        this.verify(namespaceInfo.shortcuts[key]);\n      }\n    }\n    return namespaceInfos;\n  }\n\n  verify(shortcut) {\n    if (!shortcut.url && !shortcut.deprecated) {\n      this.env.logger.error(\n        `Missing url in ${shortcut.namespace}.${shortcut.key}.`,\n      );\n    }\n    if (\n      shortcut.url &&\n      shortcut.argumentCount != Object.keys(shortcut.arguments).length\n    ) {\n      this.env.logger.error(\n        `Mismatch in argumentCount of key and arguments.length of url in \"${shortcut.namespace}.${shortcut.key}\".`,\n      );\n    }\n  }\n\n  /**\n   * Check if namespace is subscribed to.\n   *\n   * @param {object} namespaceInfo - namespace to be checked.\n   *\n   * @return {boolean} isSubscribed - TRUE if subscribed.\n   */\n  isSubscribed(namespaceInfo) {\n    return namespaceInfo.priority && namespaceInfo.priority > 0;\n  }\n}\n","/** @module QueryParser */\n\nimport Helper from './Helper.js';\n\n/** Parse a query. */\n\nexport default class QueryParser {\n  /**\n   * Parse the query into its all details.\n   *\n   * @param {string} query          - The whole query.\n   *\n   * @return {object}               - Contains various values parsed from the query.\n   */\n  static parse(query) {\n    const env = {};\n    env.query = query;\n    Object.assign(env, QueryParser.setFlagsFromQuery(env));\n\n    [env.keyword, env.argumentString] = this.getKeywordAndArgumentString(\n      env.query,\n    );\n    env.keyword = env.keyword.toLowerCase();\n    env.args = this.getArguments(env.argumentString);\n\n    [env.extraNamespaceName, env.keyword] = this.getExtraNamespace(env.keyword);\n    if (env.extraNamespaceName) {\n      const languageOrCountry =\n        this.getLanguageAndCountryFromExtraNamespaceName(\n          env.extraNamespaceName,\n        );\n      Object.assign(env, languageOrCountry);\n    }\n\n    return env;\n  }\n\n  /**\n   * Get keyword and argument string from query.\n   *\n   * @param {string} query          - The whole query.\n   *\n   * @return {object}\n   * - {string} keyword           - The keyword from the query.\n   * - {string} argumentString    - The whole argument string.\n   */\n  static getKeywordAndArgumentString(query) {\n    let keyword, argumentString;\n\n    [keyword, argumentString] = Helper.splitKeepRemainder(query, ' ', 2);\n\n    if (typeof keyword === 'undefined') {\n      keyword = '';\n    }\n    if (typeof argumentString === 'undefined') {\n      argumentString = '';\n    }\n\n    return [keyword, argumentString];\n  }\n\n  /**\n   * Get arguments from argument string.\n   *\n   * @param {string} argumentString    - The whole argument string.\n   *\n   * @return {array} args              - The arguments from the argument string.\n   */\n  static getArguments(argumentString) {\n    let args;\n    if (argumentString) {\n      args = argumentString.split(',');\n    } else {\n      args = [];\n    }\n\n    return args;\n  }\n\n  /**\n   * Check if keyword contains extra namespace.\n   *\n   * @param {string} keyword - The keyword.\n   *\n   * @return {object}\n   * - {string} extraNamespaceName - If found, the name of the extra namespace.\n   * - {string} keyword            - The new keyword.\n   */\n  static getExtraNamespace(keyword) {\n    // Check for extraNamespace in keyword:\n    //   split at dot\n    //   but don't split up country namespace names.\n    let extraNamespaceName;\n    if (keyword.match(/.\\./)) {\n      [extraNamespaceName, keyword] = Helper.splitKeepRemainder(\n        keyword,\n        '.',\n        2,\n      );\n      // If extraNamespace started with a dot, it will be empty\n      // so let's split it again, and add the dot.\n      if (extraNamespaceName == '') {\n        [extraNamespaceName, keyword] = Helper.splitKeepRemainder(\n          keyword,\n          '.',\n          2,\n        );\n        extraNamespaceName = '.' + extraNamespaceName;\n      }\n    }\n\n    return [extraNamespaceName, keyword];\n  }\n\n  /**\n   * Return language or country from extra namespace.\n   *\n   * @param {string} extraNamespaceName - The name of the extraNamespace.\n   *\n   * @return {object}               - Contains either {language: } or {country: }.\n   */\n  static getLanguageAndCountryFromExtraNamespaceName(extraNamespaceName) {\n    const env = {};\n\n    // Set language and country again.\n    switch (extraNamespaceName.length) {\n      case 2:\n        env.language = extraNamespaceName;\n        break;\n      case 3:\n        // Cut the dot at the beginning.\n        env.country = extraNamespaceName.substring(1);\n        break;\n    }\n    return env;\n  }\n\n  static setFlagsFromQuery(env) {\n    if (env.query) {\n      // Check for debug.\n      if (env.query.match(/^debug:/)) {\n        env.debug = true;\n        env.query = env.query.replace(/^debug:/, '');\n      }\n      // Check for reload.\n      if (env.query.match(/^reload:/) || env.query.match(/^reload$/)) {\n        env.reload = true;\n        env.query = env.query.replace(/^reload(:?)/, '');\n      }\n    }\n    return env;\n  }\n}\n","/** @module Env */\n\nimport Helper from './Helper.js';\nimport Logger from './Logger.js';\nimport NamespaceFetcher from './NamespaceFetcher.js';\nimport QueryParser from './QueryParser.js';\nimport jsyaml from 'js-yaml';\nimport pkg from '../../../package.json';\n\n/** Set and remember the environment. */\n\nexport default class Env {\n  /**\n   * Set helper variables.\n   *\n   * @param {object} env - The environment variables.\n   */\n  constructor(env) {\n    this.setToThis(env);\n    if (pkg.gitCommitHash) {\n      this.commitHash = pkg.gitCommitHash.slice(0, 7);\n    } else {\n      this.commitHash = 'unknown';\n    }\n\n    this.configUrlTemplate = `https://raw.githubusercontent.com/{%github}/trovu-data-user/master/config.yml?${this.commitHash}`;\n    this.logger = new Logger('#log');\n  }\n\n  /**\n   * Set the environment variables from the given object.\n   *\n   * @param {object} env - The environment variables.\n   * @returns\n   */\n  setToThis(env) {\n    if (!env) {\n      return;\n    }\n    for (const key in env) {\n      this[key] = env[key];\n    }\n  }\n\n  /**\n   * Get the params from env.\n   *\n   * @return {object} - The built params.\n   */\n  getParams() {\n    const params = {};\n\n    // Put environment into hash.\n    if (this.github) {\n      params['github'] = this.github;\n    } else {\n      params['language'] = this.language;\n      params['country'] = this.country;\n    }\n    if (this.debug) {\n      params['debug'] = 1;\n    }\n    // Don't add defaultKeyword into params\n    // when Github user is set.\n    if (this.defaultKeyword && !this.github) {\n      params['defaultKeyword'] = this.defaultKeyword;\n    }\n    if (this.status) {\n      params['status'] = this.status;\n    }\n    if (this.query) {\n      params['query'] = this.query;\n    }\n    if (this.alternative) {\n      params['alternative'] = this.alternative;\n    }\n    if (this.key) {\n      params['key'] = this.key;\n    }\n\n    return params;\n  }\n\n  /**\n   * Get the parameters as string.\n   */\n  getParamStr() {\n    const params = this.getParams();\n    const paramStr = Helper.getUrlParamStr(params);\n    return paramStr;\n  }\n\n  /**\n   * Set the initial class environment vars either from params or from GET hash string.\n   *\n   * @param {array} params - List of parameters to be used in environment.\n   */\n  async populate(params) {\n    if (!params) {\n      params = Helper.getUrlParams();\n    }\n\n    // Set debug and reload from URL params.\n    for (const paramName of ['debug', 'reload']) {\n      if (params[paramName] === '1') {\n        this[paramName] = true;\n      }\n    }\n\n    // Assign before, to also catch \"debug\" and \"reload\" in params and query.\n    Object.assign(this, params);\n    const params_from_query = QueryParser.parse(this.query);\n    Object.assign(this, params_from_query);\n\n    if (typeof params.github === 'string' && params.github !== '') {\n      await this.setWithUserConfigFromGithub(params);\n    }\n\n    // Assign again, to override user config.\n    Object.assign(this, params);\n    Object.assign(this, params_from_query);\n\n    await this.setDefaults();\n\n    if (this.extraNamespaceName) {\n      this.namespaces.push(this.extraNamespaceName);\n    }\n\n    this.data = await this.getData();\n    this.namespaceInfos = await new NamespaceFetcher(this).getNamespaceInfos(\n      this.namespaces,\n    );\n  }\n\n  /**\n   * Set the user configuration from their fork in their Github profile.\n   *\n   * @param {array} params - Here, 'github' and 'debug' will be used\n   */\n  async setWithUserConfigFromGithub(params) {\n    const config = await this.getUserConfigFromGithub(params);\n    if (config) {\n      Object.assign(this, config);\n    }\n  }\n\n  /**\n   * Get the user configuration from their fork in their Github profile.\n   *\n   * @param {array} params - Here, 'github' and 'debug' will be used\n   *\n   * @return {(object|boolean)} config - The user's config object, or false if fetch failed.\n   */\n  async getUserConfigFromGithub(params) {\n    const configUrl = this.configUrlTemplate.replace(\n      '{%github}',\n      params.github,\n    );\n    const configYml = await Helper.fetchAsync(configUrl, this);\n    if (!configYml) {\n      this.logger.error(`Error reading Github config from ${configUrl}`);\n    }\n    try {\n      const config = jsyaml.load(configYml);\n      return config;\n    } catch (error) {\n      this.logger.error(`Error parsing ${configUrl}: ${error.message}`);\n    }\n  }\n\n  // Param getters ====================================================\n\n  /**\n   * Get the default language and country from browser.\n   *\n   * @return {object} [language, country] - The default language and country.\n   */\n  async getDefaultLanguageAndCountry() {\n    let { language, country } = this.getLanguageAndCountryFromBrowser();\n\n    if (!country) {\n      try {\n        country = await this.getCountryFromIp();\n      } catch (error) {\n        // TODO: Log about error, but don't stop.\n      }\n    }\n\n    // Set defaults.\n    language = language || 'en';\n    country = country || 'us';\n\n    // Ensure lowercase.\n    language = language.toLowerCase();\n    country = country.toLowerCase();\n\n    return { language, country };\n  }\n\n  /**\n   * Get the default language and country from browser.\n   *\n   * @return {object} [language, country] - The default language and country.\n   */\n  getLanguageAndCountryFromBrowser() {\n    const languageStr = this.getNavigatorLanguage();\n    let language, country;\n    if (languageStr) {\n      [language, country] = languageStr.split('-');\n    }\n\n    return { language, country };\n  }\n\n  /**\n   * Wrapper for navigator language, capsuled to enable unit testing.\n   *\n   * @return {string} navigatorLanguage - The browser's value of navigator.language.\n   */\n  getNavigatorLanguage() {\n    const languageStr = navigator.language;\n    return languageStr;\n  }\n\n  /**\n   * Get the country from the IP address.\n   *\n   * @return {string} country - The country as ISO 3166‑1 alpha-2 code\n   */\n  async getCountryFromIp() {\n    const ipInfoText = await this.fetchDbIp();\n    const ipInfo = JSON.parse(ipInfoText);\n    const country = ipInfo.countryCode;\n    return country;\n  }\n\n  async fetchDbIp() {\n    const ipInfoUrl = 'https://api.db-ip.com/v2/free/self';\n    const ipInfoText = await Helper.fetchAsync(ipInfoUrl, this);\n    return ipInfoText;\n  }\n\n  /**\n   * Set default environment variables if they are still empty.\n   */\n  async setDefaults() {\n    let language, country;\n\n    if (typeof this.language != 'string' || typeof this.country != 'string') {\n      ({ language, country } = await this.getDefaultLanguageAndCountry());\n    }\n\n    // Default language.\n    if (typeof this.language != 'string') {\n      this.language = language;\n    }\n    // Default country.\n    if (typeof this.country != 'string') {\n      this.country = country;\n    }\n    // Default namespaces.\n    if (typeof this.namespaces != 'object') {\n      this.namespaces = ['o', this.language, '.' + this.country];\n    }\n    // Default debug.\n    if (typeof this.debug != 'boolean') {\n      this.debug = Boolean(this.debug);\n    }\n  }\n\n  /**\n   * Fetches data from /data.\n   * @returns {Object} An object containing the fetched data.\n   */\n  async getData() {\n    let text;\n    if (typeof window !== 'undefined') {\n      const url = `/data.json?${this.commitHash}`;\n      text = await Helper.fetchAsync(url, this);\n    } else {\n      const fs = require('fs');\n      text = fs.readFileSync('./dist/public/data.json', 'utf8');\n    }\n    if (!text) {\n      return false;\n    }\n    try {\n      const data = await JSON.parse(text);\n      return data;\n    } catch (error) {\n      this.env.logger.error(`Error parsing JSON in ${url}: ${error.message}`);\n      return false;\n    }\n  }\n}\n","/** @module ShortcutFinder */\n\nimport Helper from './Helper.js';\n\n/** Find matching shortcut. */\n\nexport default class ShortcutFinder {\n  /**\n   * Match shortcuts for keyword and args.\n   *\n   * @param {string} keyword    - The keyword of the query.\n   * @param {array} args        - The arguments of the query.\n   *\n   * @return {array} shortcuts  - The array of found shortcuts.\n   */\n  static async matchShortcuts(keyword, args, namespaceInfos, reload, debug) {\n    for (const namespaceInfo of Object.values(namespaceInfos)) {\n      if (!namespaceInfo.shortcuts) {\n        continue;\n      }\n      const shortcut = namespaceInfo.shortcuts[keyword + ' ' + args.length];\n      if (shortcut && shortcut.reachable) {\n        return shortcut;\n      }\n    }\n  }\n\n  /**\n   * Collect shortcuts from all available namespace.\n   *\n   * @param {object} env        - The environment.\n   *\n   * @return {object} shortcuts - Found shortcuts keyed by their source namespace.\n   */\n  static async findShortcut(env) {\n    let shortcut = await this.matchShortcuts(\n      env.keyword,\n      env.args,\n      env.namespaceInfos,\n      env.reload,\n      env.debug,\n    );\n\n    // If nothing found:\n    // Try without commas, i.e. with the whole argumentString as the only argument.\n    if (!shortcut && env.args.length > 0) {\n      env.logger.warning(\n        `No shortcut found for ${env.keyword} ${env.args.length} yet. Trying with the whole argument string as the only argument.`,\n      );\n      env.args = [env.argumentString];\n      shortcut = await this.matchShortcuts(\n        env.keyword,\n        env.args,\n        env.namespaceInfos,\n        env.reload,\n        env.debug,\n      );\n    }\n\n    // If nothing found:\n    // Try default keyword.\n    if (!shortcut && env.defaultKeyword) {\n      env.logger.warning(\n        `No shortcut found for ${env.keyword} ${env.args.length} yet. Trying with default keyword.`,\n      );\n      env.args = [env.query];\n      shortcut = await this.matchShortcuts(\n        env.defaultKeyword,\n        env.args,\n        env.namespaceInfos,\n        env.reload,\n        env.debug,\n      );\n    }\n    return shortcut;\n  }\n}\n","import CallHandler from './modules/CallHandler.js';\n\ndocument.querySelector('body').onload = CallHandler.handleCall();\n","/** @module CallHandler */\n\nimport Env from './Env.js';\nimport Helper from './Helper.js';\nimport ShortcutFinder from './ShortcutFinder.js';\nimport UrlProcessor from './UrlProcessor.js';\n\n/** Handle a call. */\n\nexport default class CallHandler {\n  /**\n   * The 'main' function of this class.\n   */\n  static async handleCall() {\n    Helper.logVersion();\n\n    const env = new Env();\n    await env.populate();\n\n    if (env.debug) {\n      env.logger.showLog();\n    }\n\n    let redirectUrl;\n\n    const response = await this.getRedirectResponse(env);\n\n    if (response.status === 'found') {\n      redirectUrl = response.redirectUrl;\n    } else {\n      redirectUrl = this.getRedirectUrlToHome(response);\n    }\n\n    env.logger.info('Redirect to:   ' + redirectUrl);\n\n    if (env.debug) {\n      return;\n    }\n\n    window.location.replace(redirectUrl);\n  }\n\n  /**\n   * Given the environment, get a response object, incl. redirect URL.\n   *\n   * @param {object} env        - The environment.\n   *\n   * @return {object} response  - Contains redirect URL, status.\n   */\n  static async getRedirectResponse(env) {\n    const response = {};\n\n    if (env.reload && !env.query) {\n      response.status = 'reloaded';\n      return response;\n    }\n\n    if (!env.query) {\n      response.status = 'not_found';\n      response.redirectUrl = false;\n      return response;\n    }\n\n    const shortcut = await ShortcutFinder.findShortcut(env);\n\n    if (!shortcut) {\n      response.status = 'not_found';\n      return response;\n    }\n\n    if (shortcut.deprecated) {\n      response.status = 'deprecated';\n      response.alternative = this.getAlternative(shortcut, env);\n      return response;\n    }\n\n    if (shortcut.removed) {\n      response.status = 'removed';\n      response.key = shortcut.key;\n      return response;\n    }\n\n    response.redirectUrl = shortcut.url;\n    response.status = 'found';\n\n    env.logger.info('Used template: ' + response.redirectUrl);\n\n    response.redirectUrl = UrlProcessor.replaceVariables(response.redirectUrl, {\n      language: env.language,\n      country: env.country,\n    });\n    response.redirectUrl = await UrlProcessor.replaceArguments(\n      response.redirectUrl,\n      env.args,\n      env,\n    );\n\n    return response;\n  }\n\n  static getAlternative(shortcut, env) {\n    let alternative = shortcut.deprecated.alternative.query;\n    for (const i in env.args) {\n      alternative = alternative.replace(\n        '{%' + (parseInt(i) + 1) + '}',\n        env.args[i],\n      );\n    }\n    return alternative;\n  }\n\n  /**\n   * Redirect in case a shortcut was not found.\n   *\n   * @param {string} status       - The status of the call.\n   *\n   * @return {string} redirectUrl - Redirect URL to the homepage, with parameters.\n   */\n  static getRedirectUrlToHome(response) {\n    const params = Helper.getUrlParams();\n    switch (response.status) {\n      case 'deprecated':\n        params.alternative = response.alternative;\n        break;\n      case 'removed':\n        params.key = response.key;\n        break;\n    }\n    params.status = response.status;\n    const paramStr = Helper.getUrlParamStr(params);\n    const redirectUrl = '../index.html#' + paramStr;\n    return redirectUrl;\n  }\n}\n"],"names":["Helper","static","string","delimiter","n","parts","split","slice","concat","join","str","replace","url","env","response","fetch","cache","reload","status","logger","warning","success","text","window","location","hash","substr","urlParamStr","this","getUrlHash","urlParams","URLSearchParams","params","forEach","value","key","set","sort","console","log","pkg","gitCommitHash","gitDate","Logger","constructor","logElementSelector","logs","document","logElement","querySelector","level","message","push","textContent","info","error","showLog","table","Error","removeAttribute","CityType","matches","country","abbreviation","match","cities","data","types","city","DateType","locale","now","Date","date","setDate","setMonth","getMonth","day","month","setFullYear","getFullYear","year","operator","offset","getDate","parseInt","maps","map","desired_day_of_week_index","indexOf","toLowerCase","getDay","TimeType","time","setHours","setMinutes","hours","minutes","getHours","module","t","e","r","i","s","u","a","o","f","h","c","d","l","$","y","M","name","weekdays","months","ordinal","m","String","length","Array","v","z","utcOffset","Math","abs","floor","clone","add","ceil","p","w","D","ms","Q","g","_","S","args","arguments","O","$L","utc","$u","x","$x","$offset","parse","prototype","$d","NaN","test","substring","UTC","init","$y","$M","$D","$W","$H","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","toDate","apply","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","T","extend","$i","isDayjs","en","Ls","UrlProcessor","prefix","re","RegExp","placeholders","exec","placeholder","getPlaceholderFromMatch","nameAndAttributes","shift","attrStr","attrName","attrValue","getPlaceholdersFromString","getArgumentsFromString","argumentName","argument","trim","processAttributes","includes","processedArgument","attributes","processAttributeType","processAttributeTransform","processAttributeEncoding","language","toUpperCase","type","processTypeDate","processTypeTime","processTypeCity","dateNative","dayjs","output","timeNative","transform","transformEoCx","encoding","escape","encodeURIComponent","variables","getVariablesFromString","varName","escapeRegExp","charMap","cx","gx","hx","jx","sx","ux","CX","GX","HX","JX","SX","UX","Cx","Gx","Hx","Jx","Sx","Ux","regex","Object","keys","matched","isNothing","subject","common","isObject","toArray","sequence","isArray","repeat","count","cycle","result","isNegativeZero","number","NEGATIVE_INFINITY","target","source","index","sourceKeys","formatError","exception","compact","where","reason","mark","line","column","snippet","YAMLException$1","call","captureStackTrace","stack","create","getLine","buffer","lineStart","lineEnd","position","maxLineLength","head","tail","maxHalfLength","pos","padStart","max","options","maxLength","indent","linesBefore","linesAfter","lineStarts","lineEnds","foundLineNo","lineNoLength","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","tag","kind","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","multi","styleAliases","style","alias","compileStyleAliases","compileList","schema","currentType","newIndex","previousType","previousIndex","Schema$1","definition","implicit","explicit","type$1","loadKind","compiledImplicit","compiledExplicit","compiledTypeMap","scalar","mapping","fallback","collectType","compileMap","seq","failsafe","_null","object","canonical","lowercase","uppercase","camelcase","empty","bool","isOctCode","isDecCode","int","ch","hasDigits","charCodeAt","sign","binary","obj","octal","decimal","hexadecimal","YAML_FLOAT_PATTERN","SCIENTIFIC_WITHOUT_DOT","float","POSITIVE_INFINITY","parseFloat","res","isNaN","json","core","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","timestamp","hour","minute","second","fraction","delta","setTime","merge","BASE64_MAP","code","idx","bitlen","charAt","tailbits","input","bits","Uint8Array","_hasOwnProperty$3","hasOwnProperty","_toString$2","omap","pair","pairKey","pairHasKey","objectKeys","_toString$1","pairs","_hasOwnProperty$2","_default","_hasOwnProperty$1","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","simpleEscapeSequence","charFromCodepoint","fromCharCode","simpleEscapeCheck","simpleEscapeMap","State$1","filename","onWarning","legacy","listener","implicitTypes","typeMap","lineIndent","firstTabInLine","documents","generateError","state","throwError","throwWarning","directiveHandlers","YAML","major","minor","version","checkLineBreaks","TAG","handle","tagMap","decodeURIComponent","err","captureSegment","start","end","checkJson","_position","_length","_character","_result","mergeMappings","destination","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startLine","startLineStart","startPos","defineProperty","configurable","enumerable","writable","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readBlockSequence","nodeIndent","_line","_tag","_anchor","anchor","detected","anchorMap","composeNode","readTagProperty","tagHandle","tagName","isVerbatim","isNamed","readAnchorProperty","parentIndent","nodeContext","allowToSeek","allowCompact","allowBlockStyles","allowBlockScalars","allowBlockCollections","typeIndex","typeQuantity","typeList","flowIndent","blockIndent","indentStatus","atNewLine","hasContent","following","_keyLine","_keyLineStart","_keyPos","atExplicitKey","readBlockMapping","_lineStart","_pos","terminator","isPair","isExplicitPair","isMapping","readNext","readFlowCollection","captureStart","folding","tmp","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockScalar","captureEnd","readSingleQuotedScalar","hexLength","hexResult","readDoubleQuotedScalar","readAlias","withinFlowCollection","hasPendingContent","_lineIndent","_kind","readPlainScalar","readDocument","directiveName","directiveArgs","documentStart","hasDirectives","loadDocuments","nullpos","loader","loadAll","iterator","load","_toString","_hasOwnProperty","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","DEPRECATED_BASE60_SYNTAX","encodeHex","character","State","noArrayIndent","skipInvalid","flowLevel","styleMap","compileStyleMap","sortKeys","lineWidth","noRefs","noCompatMode","condenseFlow","quotingType","forceQuotes","replacer","explicitTypes","duplicates","usedDuplicates","indentString","spaces","ind","next","generateNextLine","isWhitespace","isPrintable","isNsCharOrWhitespace","isPlainSafe","prev","inblock","cIsNsCharOrWhitespace","cIsNsChar","codePointAt","first","needIndentIndicator","chooseScalarStyle","singleLineOnly","indentPerLevel","testAmbiguousType","char","prevChar","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","isPlainSafeLast","writeScalar","iskey","dump","testImplicitResolving","blockHeader","dropEndingNewline","width","moreIndented","lineRe","nextLF","lastIndex","foldLine","prevMoreIndented","foldString","escapeSeq","escapeString","indentIndicator","clip","breakRe","curr","writeBlockSequence","writeNode","detectType","block","isblockseq","tagStr","duplicateIndex","duplicate","objectOrArray","objectKey","objectValue","explicitPair","pairBuffer","objectKeyList","writeBlockMapping","writeFlowMapping","writeFlowSequence","encodeURI","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","renamed","from","to","jsYaml","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SCHEMA","YAMLException","null","safeLoad","safeLoadAll","safeDump","NamespaceFetcher","namespaceInfos","async","namespaces","getInitialNamespaceInfos","assignShortcutsFromData","fetchNamespaceInfos","processIncludeAll","addReachable","addInfoAll","verifyAll","priorityOffset","fromEntries","namespace","namespaceInfo","getInitalNamespaceInfo","priority","addFetchUrlToSiteNamespace","github","addFetchUrlToGithubNamespace","commitHash","namespaceName","shortcuts","values","filter","item","newNamespaceInfos","promises","startFetches","responses","Promise","all","processResponses","promise","parseShortcutsFromYml","checkKeySyntax","convertToObject","addNamespacesFromInclude","jsyaml","shortcut","getIncludes","include","processInclude","depth","keyUnprocessed","replaceVariables","shortcutToInclude","shortcutToIncludeCloned","cloneShortcut","assign","JSON","stringify","namespaceInfosByPriority","b","foundShortcuts","Set","isSubscribed","reachable","has","addInfo","keyword","argumentCount","title","verify","deprecated","QueryParser","query","setFlagsFromQuery","argumentString","getKeywordAndArgumentString","getArguments","extraNamespaceName","getExtraNamespace","languageOrCountry","getLanguageAndCountryFromExtraNamespaceName","splitKeepRemainder","debug","Env","setToThis","configUrlTemplate","getParams","defaultKeyword","alternative","getParamStr","getUrlParamStr","getUrlParams","paramName","params_from_query","setWithUserConfigFromGithub","setDefaults","getData","getNamespaceInfos","config","getUserConfigFromGithub","configUrl","configYml","fetchAsync","getLanguageAndCountryFromBrowser","getCountryFromIp","languageStr","getNavigatorLanguage","navigator","ipInfoText","fetchDbIp","countryCode","getDefaultLanguageAndCountry","Boolean","require","readFileSync","ShortcutFinder","matchShortcuts","onload","logVersion","redirectUrl","populate","getRedirectResponse","getRedirectUrlToHome","findShortcut","getAlternative","removed","replaceArguments","handleCall"],"mappings":"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"}